
<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Sanita Sesli Analiz Robotu AI â€” Final</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');
  :root{--bg1:#00111e;--bg2:#000814;--accent:#00f5d4;--accent2:#00eaff;--card:rgba(0,36,66,0.6);--text:#fff}
  body.light{--bg1:#f1f9ff;--bg2:#cce7ff;--accent:#0077b6;--accent2:#00b4d8;--card:rgba(255,255,255,0.9);--text:#002244}
  body{margin:0;min-height:100vh;background:radial-gradient(circle at 20% 10%,var(--bg1),var(--bg2));color:var(--text);font-family:Poppins,system-ui,Segoe UI,Arial;display:flex;flex-direction:column;align-items:center;padding:28px;transition:all .45s}
  header{max-width:1100px;width:100%;display:flex;align-items:center;justify-content:space-between;gap:12px}
  h1{margin:0;font-size:1.6rem;color:var(--accent);text-shadow:0 0 18px var(--accent2)}
  .controls{display:flex;gap:10px;align-items:center}
  select,button{background:linear-gradient(135deg,var(--accent2),var(--accent));color:var(--text);border:none;padding:10px 14px;border-radius:12px;cursor:pointer;font-weight:600;box-shadow:0 6px 24px rgba(0,0,0,.15);transition:transform .18s}
  main{max-width:1100px;width:100%;margin-top:18px;display:grid;grid-template-columns:1fr 420px;gap:22px}
  .panel{background:var(--card);border-radius:16px;padding:18px;box-shadow:0 8px 40px rgba(0,0,0,.25)}
  .mic{width:120px;height:120px;border-radius:999px;background:linear-gradient(145deg,var(--accent2),var(--accent));display:flex;align-items:center;justify-content:center;font-size:46px;margin:8px auto;cursor:pointer;box-shadow:0 0 32px var(--accent2);transition:transform .2s}
  .mic:hover{transform:scale(1.06)}
  .wave{height:12px;background:linear-gradient(90deg,transparent,var(--accent2),transparent);border-radius:12px;margin:12px auto;width:220px;animation:wave 1.3s ease-in-out infinite}
  @keyframes wave{0%{width:100px;opacity:.4}50%{width:260px;opacity:1}100%{width:100px;opacity:.4}}
  #transcript{margin:8px 0;text-align:center;color:var(--accent2);font-weight:600}
  #output{min-height:56px;text-align:center;padding:8px;border-radius:10px;background:transparent;color:var(--text);font-weight:600}
  .stats{display:flex;flex-wrap:wrap;gap:12px;justify-content:center;margin-top:12px}
  .stat{background:rgba(255,255,255,0.03);padding:10px 12px;border-radius:10px;min-width:140px;text-align:center}
  .stat h4{margin:0;font-size:.9rem;color:var(--accent)}
  .stat p{margin:6px 0 0;font-weight:700}
  .examples{height:720px;overflow:auto;padding:16px}
  .examples h3{margin-top:0;color:var(--accent)}
  .category{margin-bottom:12px;padding:10px;border-radius:10px;background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent)}
  .cat-title{font-weight:700;margin-bottom:8px;display:flex;align-items:center;gap:8px}
  .cat-qs{display:flex;flex-direction:column;gap:8px;padding-left:6px}
  .q{display:flex;align-items:center;gap:10px;background:transparent;padding:6px;border-radius:8px}
  .emoji{font-size:20px;flex:0 0 34px;display:flex;align-items:center;justify-content:center}
  footer{margin-top:18px;color:var(--accent2)}
  @media(max-width:980px){main{grid-template-columns:1fr;}.examples{height:420px}}
  a.download{display:inline-block;margin-left:8px;background:transparent;border:1px solid rgba(255,255,255,0.12);padding:8px 12px;border-radius:10px;color:var(--text);text-decoration:none;}
</style>
</head>
<body>
<header>
  <h1>ğŸ™ï¸ Sanita Sesli Analiz Robotu AI</h1>
  <div class="controls">
    <select id="voiceSelect" title="Ses seÃ§imi">
      <option value="female">ğŸ‘© KadÄ±n Sesi</option>
      <option value="male">ğŸ‘¨ Erkek Sesi</option>
    </select>
    <button id="themeToggle">ğŸŒ™ Tema DeÄŸiÅŸtir</button>
    <a id="downloadLink" class="download" href="#" download="sanita-sesli-analiz.html">â¬‡ï¸ Ä°ndir</a>
  </div>
</header>

<main>
  <section class="panel">
    <div style="text-align:center">
      <div id="mic" class="mic" aria-label="Mikrofon">ğŸ¤</div>
      <div class="wave" aria-hidden></div>
      <div id="transcript">ğŸ”ˆ KonuÅŸmak iÃ§in mikrofona dokun.</div>
      <div id="output"></div>
    </div>

    <div class="stats" id="stats"></div>

    <div style="margin-top:14px;text-align:center">
      <small style="opacity:.85">Veriler: kullanÄ±cÄ± tarafÄ±ndan saÄŸlanan aylÄ±k toplamlara gÃ¶re gÃ¶mÃ¼lmÃ¼ÅŸtÃ¼r. Soru listeleri kategorilere gÃ¶re 3'er Ã¶rnek iÃ§erir.</small>
    </div>
  </section>

  <aside class="panel examples">
    <h3>ğŸ’¡ Ã–rnek Soru Kategorileri (Her kategoriden 3 Ã¶rnek)</h3>

    <div class="category">
      <div class="cat-title">ğŸ‘¥ <span>Personel & Ã‡alÄ±ÅŸma SÃ¼resi</span></div>
      <div class="cat-qs">
        <div class="q"><div class="emoji">ğŸ‘·</div><div>KaÃ§ kiÅŸi Ã§alÄ±ÅŸtÄ± bu ay?</div></div>
        <div class="q"><div class="emoji">â±ï¸</div><div>Toplam Ã§alÄ±ÅŸma sÃ¼resi kaÃ§ saattir?</div></div>
        <div class="q"><div class="emoji">ğŸ“Š</div><div>KiÅŸi baÅŸÄ±na ortalama Ã¼retim ne kadar?</div></div>
      </div>
    </div>

    <div class="category">
      <div class="cat-title">ğŸ­ <span>Ãœretim Bilgileri</span></div>
      <div class="cat-qs">
        <div class="q"><div class="emoji">ğŸ“¦</div><div>Toplam Ã¼retim miktarÄ± nedir?</div></div>
        <div class="q"><div class="emoji">âš™ï¸</div><div>Ortalama saatlik Ã¼retim kaÃ§ adettir?</div></div>
        <div class="q"><div class="emoji">ğŸ“ˆ</div><div>1 adet iÃ§in ortalama hammadde tÃ¼ketimi nedir?</div></div>
      </div>
    </div>

    <div class="category">
      <div class="cat-title">ğŸ§‚ <span>Hammadde Bilgileri</span></div>
      <div class="cat-qs">
        <div class="q"><div class="emoji">ğŸŒ¶ï¸</div><div>Pul biberinden kaÃ§ kilo kullanÄ±ldÄ±?</div></div>
        <div class="q"><div class="emoji">ğŸ¥£</div><div>Toplam kullanÄ±lan hammadde miktarÄ± nedir?</div></div>
        <div class="q"><div class="emoji">ğŸ”</div><div>Ay boyunca en Ã§ok hangi hammadde kullanÄ±ldÄ±?</div></div>
      </div>
    </div>

    <div class="category">
      <div class="cat-title">ğŸ¢ <span>Firma Ãœretimleri</span></div>
      <div class="cat-qs">
        <div class="q"><div class="emoji">ğŸ·ï¸</div><div>SOFRA firmasÄ±nÄ±n Ã¼retim miktarÄ± nedir?</div></div>
        <div class="q"><div class="emoji">ğŸŒ¾</div><div>MESA firmasÄ±nÄ±n kullandÄ±ÄŸÄ± toplam hammadde kaÃ§ kg?</div></div>
        <div class="q"><div class="emoji">ğŸ”</div><div>En fazla Ã¼retim yapan firma hangisidir?</div></div>
      </div>
    </div>

    <div class="category">
      <div class="cat-title">ğŸ”¥ <span>Fire Bilgileri</span></div>
      <div class="cat-qs">
        <div class="q"><div class="emoji">âš ï¸</div><div>Toplam hammadde fire miktarÄ± kaÃ§ kg?</div></div>
        <div class="q"><div class="emoji">ğŸ§¾</div><div>OMK ve OPP fire toplamÄ± nedir?</div></div>
        <div class="q"><div class="emoji">ğŸ“‰</div><div>Fire oranÄ± toplam hammaddeye gÃ¶re yÃ¼zde kaÃ§?</div></div>
      </div>
    </div>

    <div class="category">
      <div class="cat-title">ğŸ“… <span>GÃ¼nlÃ¼k / AylÄ±k Ã–zet</span></div>
      <div class="cat-qs">
        <div class="q"><div class="emoji">ğŸ—“ï¸</div><div>AylÄ±k toplam hammadde kaÃ§ kg olarak kaydedilmiÅŸ?</div></div>
        <div class="q"><div class="emoji">ğŸ“Š</div><div>Genel toplam Ã¼retim 211.991 adet midir?</div></div>
        <div class="q"><div class="emoji">âœ…</div><div>Veri setine gÃ¶re en verimli Ã¼Ã§ firma hangileridir?</div></div>
      </div>
    </div>

  </aside>
</main>

<footer>Sanita AI Â· Statik HTML â€” Veriler sayfaya gÃ¶mÃ¼lÃ¼dÃ¼r.</footer>

<script>
// ========== GÃ–MÃœLÃœ VERÄ°LER ==========
// AylÄ±k toplamlar â€” tam olarak kullanÄ±cÄ±nÄ±n verdiÄŸi deÄŸerlerle (nokta ayÄ±rÄ±cÄ±)
const DATA = {
  aylik: {
    kisi: 418.00,
    calisma_saat: 951.75,
    uretim_adet: 211991.00,
    toplam_hammadde: 99126.68, // kullanÄ±cÄ±nÄ±n verdiÄŸi aylÄ±k toplam
    hammadde_fire: 5.48,
    omk_fire: 28.00,
    opp_fire: 15.80
  },
  firmalar: {
    "SOFRA":{uret:31477, hammadde:29055.17},
    "KERVAN":{uret:764, hammadde:764.00},
    "RECEP CAN":{uret:1952, hammadde:4760.07},
    "EVERGREEN":{uret:48122, hammadde:9921.44},
    "BEDÄ°R TEDARÄ°K":{uret:1964, hammadde:1702.30},
    "Ã–NEN GIDA":{uret:100, hammadde:100.00},
    "Ã‡ELÄ°K NATUREL":{uret:100, hammadde:100.00},
    "ÅEKERCÄ°":{uret:10484, hammadde:11828.14},
    "GENÄ°M GIDA":{uret:5173, hammadde:4760.51},
    "AKAR FOOD":{uret:11454, hammadde:1170.48},
    "MAUN GIDA":{uret:550, hammadde:550.00},
    "VENÃœS":{uret:3660, hammadde:2579.00},
    "ANADOLU ÃœNÄ°VERSÄ°TESÄ°":{uret:340, hammadde:310.00},
    "EKOL FOOD":{uret:864, hammadde:723.00},
    "SANITA EVERGREEN":{uret:672, hammadde:336.00},
    "MESA":{uret:70990, hammadde:9804.16},
    "CASH&CARRY":{uret:13522, hammadde:15307.80},
    "BORTAR":{uret:797, hammadde:703.50},
    "VKS":{uret:1794, hammadde:1002.00},
    "HABÄ°P ALBAYRAK":{uret:1086, hammadde:1008.15},
    "FATSAT":{uret:320, hammadde:320.00},
    "NIOLES":{uret:750, hammadde:340.65},
    "SALEH":{uret:4224, hammadde:1024.32},
    "KIRÃ‡Ä°Ã‡EÄÄ°":{uret:50, hammadde:50.00},
    "MAYA CATERÄ°NG":{uret:42, hammadde:36.00},
    "T DÃ–NER":{uret:500, hammadde:50.00},
    "FRESH FOOD":{uret:50, hammadde:50.00},
    "EGES YEMEK":{uret:190, hammadde:190.00},
    // Not: kullanÄ±cÄ± tarafÄ±ndan verilen 'GENEL TOPLAM' (firma tablosu) = 98546.68
    "_GENEL_TOPLAM_FIRMA_HAMMADDE": 98546.68
  }
};

// ========== YARDIMCI ==========
function fmt(n){ if(typeof n === 'number') return n.toLocaleString('tr-TR'); return n; }
function toplamFirma(key){ return Object.values(DATA.firmalar).reduce((s,v)=>s+((v[key]||0)),0); }
function enYuksek(k){ const arr = Object.entries(DATA.firmalar).filter(([kname])=>!kname.startsWith('_')).map(([kname,v])=>({firma:kname,val:v[k]})); arr.sort((a,b)=>b.val-a.val); return arr; }

// ========== Ä°STATÄ°STÄ°K KARTLARI ==========\nconst statsEl = document.getElementById('stats');\nconst s = DATA.aylik;\nconst toplamFire = s.hammadde_fire + s.omk_fire + s.opp_fire;\nconst kisiBasiUretim = s.uretim_adet / s.kisi;\nconst saatlikUretim = s.uretim_adet / s.calisma_saat;\nconst ortHammaddePerUrun = s.toplam_hammadde / s.uretim_adet;\n\nconst cards = [\n  {t:'KiÅŸi SayÄ±sÄ±',v:fmt(s.kisi)},\n  {t:'Ã‡alÄ±ÅŸma SÃ¼resi (saat)',v:fmt(s.calisma_saat)},\n  {t:'Toplam Ãœretim (adet)',v:fmt(s.uretim_adet)},\n  {t:'Toplam Hammadde (kg) (AYLIK GÃ–MÃœLEN)',v:fmt(s.toplam_hammadde)},\n  {t:'Toplam Fire (kg)',v:fmt(toplamFire.toFixed(2))},\n  {t:'KiÅŸi baÅŸÄ± Ã¼retim (adet)',v:fmt(kisiBasiUretim.toFixed(2))},\n  {t:'Saatlik Ã¼retim (adet/saat)',v:fmt(saatlikUretim.toFixed(2))},\n  {t:'Ortalama hammadde/adet (kg)',v:fmt(ortHammaddePerUrun.toFixed(4))}\n];\ncards.forEach(c=>{ const el=document.createElement('div'); el.className='stat'; el.innerHTML=`<h4>${c.t}</h4><p>${c.v}</p>`; statsEl.appendChild(el); });\n\n// ========== SES AYARLARI ==========\nconst voiceSelect = document.getElementById('voiceSelect');\nlet voices = [];\nfunction loadVoices(){ voices = speechSynthesis.getVoices(); }\nloadVoices(); if(speechSynthesis.onvoiceschanged!==undefined) speechSynthesis.onvoiceschanged = loadVoices;\nfunction speak(text){ const ut = new SpeechSynthesisUtterance(text); ut.lang='tr-TR'; ut.rate=1; ut.pitch=1; const pref=voiceSelect.value; const candidate = voices.find(v=>{ const n=v.name.toLowerCase(); if(pref==='male') return n.includes('male')||n.includes('erkek'); return n.includes('female')||n.includes('kadÄ±n'); }) || voices.find(v=>v.lang && v.lang.startsWith('tr')) || null; if(candidate) ut.voice=candidate; speechSynthesis.cancel(); speechSynthesis.speak(ut); }\n\n// ========== ANALÄ°Z & CEVAP MEKANÄ°ZMASI ==========\nconst output = document.getElementById('output');\nfunction analizEt(text){ const t = text.toLowerCase(); let res = 'Tam anlayamadÄ±m ğŸ¤” LÃ¼tfen farklÄ± bir soru sor.';\n  // Genel\n  if(t.includes('toplam Ã¼retim')||t.includes('toplam Ã¼retim miktarÄ±')||t.includes('Ã¼retim miktarÄ± nedir')){\n    res = `Toplam Ã¼retim ${fmt(DATA.aylik.uretim_adet)} adet.`;\n  } else if(t.includes('toplam hammadde')||t.includes('toplam kullanÄ±lan hammadde')){\n    res = `Toplam kullanÄ±lan hammadde ${fmt(DATA.aylik.toplam_hammadde)} kg (AYLIK GÃ–MÃœLEN DEÄER).`;\n  } else if(t.includes('kaÃ§ kiÅŸi')||t.includes('kiÅŸi sayÄ±sÄ±')||t.includes('Ã§alÄ±ÅŸan sayÄ±sÄ±')){\n    res = `Toplam ${fmt(DATA.aylik.kisi)} kiÅŸi Ã§alÄ±ÅŸtÄ±.`;\n  } else if(t.includes('Ã§alÄ±ÅŸma sÃ¼resi')||t.includes('Ã§alÄ±ÅŸma saati')||t.includes('saat')){\n    res = `Toplam Ã§alÄ±ÅŸma sÃ¼resi ${fmt(DATA.aylik.calisma_saat)} saattir.`;\n  } else if(t.includes('hammadde fire')||t.includes('hammadde fir')){\n    res = `Hammadde fire ${fmt(DATA.aylik.hammadde_fire)} kg, OMK fire ${fmt(DATA.aylik.omk_fire)} kg, OPP fire ${fmt(DATA.aylik.opp_fire)} kg. Toplam fire ${fmt(toplamFire.toFixed(2))} kg.`;\n  } else if(t.includes('kiÅŸi baÅŸÄ±')||t.includes('kiÅŸi baÅŸÄ±na')){\n    res = `KiÅŸi baÅŸÄ±na dÃ¼ÅŸen Ã¼retim ${fmt(kisiBasiUretim.toFixed(2))} adet.`;\n  } else if(t.includes('saatlik Ã¼retim')||t.includes('1 saatte')||t.includes('saatte')){\n    res = `Ortalama saatlik Ã¼retim ${fmt(saatlikUretim.toFixed(2))} adettir.`;\n  } else if((t.includes('ortalama hammadde')||t.includes('1 adet'))&&t.includes('hammadde')){\n    res = `Ortalama hammadde kullanÄ±mÄ± ${fmt(ortHammaddePerUrun.toFixed(4))} kg/adet.`;\n  }\n\n  // Firma sorgularÄ±\n  const firmNames = Object.keys(DATA.firmalar).filter(k=>!k.startsWith('_'));\n  for(const f of firmNames){ const key = f.toLowerCase(); if(t.includes(key)){\n      const info = DATA.firmalar[f];\n      if(t.includes('Ã¼retim')||t.includes('Ã¼retim miktarÄ±')||t.includes('kaÃ§ adet')){ res = `${f} firmasÄ±nÄ±n Ã¼retim miktarÄ± ${fmt(info.uret)} adettir.`; }\n      else if(t.includes('hammadde')||t.includes('kull')||t.includes('kg')){ res = `${f} firmasÄ±nÄ±n kullandÄ±ÄŸÄ± toplam hammadde ${fmt(info.hammadde)} kg.`; }\n      else if(t.includes('1 adet')||t.includes('adet baÅŸ')||t.includes('bir adet')||t.includes('ortalama')){ const per = info.hammadde/(info.uret||1); res = `${f} iÃ§in ortalama hammadde/adet ${fmt(per.toFixed(4))} kg.`; }\n    }}\n\n  // En yÃ¼ksek / en dÃ¼ÅŸÃ¼k\n  if(t.includes('en fazla Ã¼retim')||t.includes('en Ã§ok Ã¼retim')||t.includes('en fazla Ã¼retim yapan')){\n    const top = enYuksek('uret')[0]; res = `En fazla Ã¼retim yapan firma ${top.firma} â€” ${fmt(top.val)} adet.`;\n  } else if(t.includes('en az Ã¼retim')||t.includes('en dÃ¼ÅŸÃ¼k Ã¼retim')){\n    const arr = enYuksek('uret'); const bot = arr[arr.length-1]; res = `En az Ã¼retim yapan firma ${bot.firma} â€” ${fmt(bot.val)} adet.`;\n  } else if(t.includes('en Ã§ok hammadde')||t.includes('en fazla hammadde')){\n    const top = enYuksek('hammadde')[0]; res = `En Ã§ok hammadde kullanan firma ${top.firma} â€” ${fmt(top.val)} kg.`;\n  }\n\n  // Verimlilik (basit) - Ã¼retim/hammadde\n  if(t.includes('en verimli')||t.includes('verimlilik')){\n    const arr = Object.entries(DATA.firmalar).filter(([k])=>!k.startsWith('_')).map(([k,v])=>({firma:k,ratio:(v.uret/(v.hammadde||1)),uret:v.uret,hammadde:v.hammadde}));\n    arr.sort((a,b)=>b.ratio-a.ratio);\n    const top3 = arr.slice(0,3).map(x=>`${x.firma} (${x.ratio.toFixed(3)})`);\n    res = `En verimli ilk 3 firma: ${top3.join(', ')}.`;\n  }\n\n  output.innerText = res; try{ speak(res); }catch(e){}\n}\n\n// ========== MÄ°KROFON ==========\nconst mic = document.getElementById('mic'); const transcript = document.getElementById('transcript');\nif(!('SpeechRecognition' in window) && !('webkitSpeechRecognition' in window)){\n  transcript.innerText = 'âš ï¸ TarayÄ±cÄ±nÄ±z SpeechRecognition desteklemiyor. Metin ile sorabilirsiniz.'; mic.style.opacity=.6; mic.style.cursor='not-allowed';\n} else {\n  mic.onclick = ()=>{ const Rec = window.SpeechRecognition || window.webkitSpeechRecognition; const rec = new Rec(); rec.lang='tr-TR'; rec.interimResults=false; rec.maxAlternatives=1; rec.start(); transcript.innerText='ğŸ§ Dinleniyor... KonuÅŸun.'; rec.onresult=(e)=>{ const text=e.results[0][0].transcript; transcript.innerText='ğŸ—£ï¸ '+text; analizEt(text); }; rec.onerror=()=>{ transcript.innerText='âš ï¸ Mikrofon hatasÄ±, lÃ¼tfen tekrar deneyin.'; } } }\n\n// ========== TEMA & Ä°NDÄ°RME LINK ==========\nconst themeToggle = document.getElementById('themeToggle');\nfunction applySavedTheme(){ if(localStorage.getItem('sanita_theme')==='light'){ document.body.classList.add('light'); themeToggle.textContent='ğŸŒ‘ KaranlÄ±k Tema'; } else { document.body.classList.remove('light'); themeToggle.textContent='ğŸŒ™ AydÄ±nlÄ±k Tema'; } }\napplySavedTheme(); themeToggle.onclick=()=>{ document.body.classList.toggle('light'); localStorage.setItem('sanita_theme', document.body.classList.contains('light')?'light':'dark'); applySavedTheme(); };\n\n// ========== DOWLOAD LINK DOLDUR ==========\n// Create a blob and set href so user can download the exact same HTML\nconst downloadLink = document.getElementById('downloadLink');\nconst fullHTML = document.documentElement.outerHTML;\nconst blob = new Blob([fullHTML], {type: 'text/html'});\nconst url = URL.createObjectURL(blob);\ndownloadLink.href = url;\n\n// ========== Ä°lk sesli ipucu ==========\nsetTimeout(()=>{ const intro = 'Sanita hazÄ±r. Ã–rnek sorulardan birini sorabilirsiniz.'; try{ speak(intro); }catch(e){} },700);\n</script>\n</body>\n</html>
