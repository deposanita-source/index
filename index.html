<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Sanita AkÄ±llÄ± Sesli Asistan</title>
<style>
body {
  background: radial-gradient(circle at center, #101820, #060a10);
  color: #fff;
  font-family: 'Poppins', sans-serif;
  text-align: center;
  padding: 50px 20px;
}
h1 { color:#00ffc6; margin-bottom:20px; }
#mic {
  width:100px;height:100px;border-radius:50%;background:#00ffc6;
  display:inline-flex;align-items:center;justify-content:center;
  cursor:pointer;box-shadow:0 0 20px #00ffc6;transition:0.3s;
}
#mic:hover{transform:scale(1.1);}
.wave{
  width:10px;height:40px;background:#00ffc6;display:inline-block;
  margin:0 3px;border-radius:5px;animation:wave 1s infinite ease-in-out;
}
@keyframes wave{
  0%,100%{height:10px;opacity:0.4;}50%{height:40px;opacity:1;}
}
#transcript,#response{
  margin-top:20px;font-size:1.1em;max-width:500px;margin-left:auto;margin-right:auto;
}
button{
  background:#00ffc6;color:#000;padding:10px 20px;border:none;
  border-radius:10px;cursor:pointer;font-weight:bold;margin-top:15px;
}
</style>
</head>
<body>
<h1>ðŸ§  Sanita AkÄ±llÄ± Sesli Asistan</h1>
<div id="mic"><div class="wave"></div><div class="wave"></div><div class="wave"></div></div>
<div id="transcript"></div>
<div id="response"></div>

<script>
// --- TÃœM VERÄ°LER MANUEL GÃ–MÃœLDÃœ ---
const veri = {
  genel: {
    kisi: 418,
    sure: 951.75,
    uretim: 212571,
    toplam_hammadde: 99126.68,
    fire: { hammadde: 5.48, omk: 28.0, opp: 15.8 }
  },
  firmalar: {
    "SOFRA": { uretim: 31477, hammadde: 29055.17 },
    "KERVAN": { uretim: 764, hammadde: 764.00 },
    "RECEP CAN": { uretim: 1952, hammadde: 4760.07 },
    "EVERGREEN": { uretim: 48122, hammadde: 9921.44 },
    "MESA": { uretim: 70990, hammadde: 9804.16 },
    "CASH&CARRY": { uretim: 13522, hammadde: 15307.80 },
    "GENEL TOPLAM": { uretim: 211251, hammadde: 98546.68 }
  },
  hammaddeler: {
    "Ã‡AM FISTIÄžI":160,"YENÄ°BAHAR":920.05,"PULBÄ°BER":20107.24,"TÃœM BÄ°BER":299,
    "DEFNE YAPRAÄžI":204.46,"KEKÄ°K":2552.74,"Ä°SOT":4130.77,"ANASON":559.52,
    "HÄ°NDÄ°STAN CEVÄ°ZÄ°":4154.01,"IHLAMUR":102,"MAVÄ° HAÅžHAÅž":260,
    "Ã‡EÅžNÄ° MILD SEASONING":120,"VANÄ°LÄ°N ÅžEKERLÄ°":310,"SUMAK":1666.49,"BÄ°BERÄ°YE":1436.54,
    "MÄ°X MARINATION":120,"TUZOT":120,"TARÃ‡IN":2763.43,"KÄ°MYON":4475.46,
    "KÃ–RÄ°":1670.06,"LÄ°MON TUZU":9441.80,"KARABÄ°BER":3020.10,"TOZ BÄ°BER":14818.43,
    "NÄ°ÅžASTA BUÄžDAY":100,"MAHLEP":38.8,"KARBONAT":342,"Ã‡Ã–REKOTU":30,"GALETA UNU":8770.10,
    "KUÅž ÃœZÃœMÃœ":1620,"BEYAZ HAÅžHAÅž":10,"SARIMSAK":971.8,"NÄ°ÅžASTA MISIR":500,
    "ZERDEÃ‡AL":743,"PÄ°ZZA SPÄ°CE MÄ°X":25.2,"KEBAP SPÄ°CE MÄ°X":19.2,"NANE":3869.95,
    "MAYDANOZ":496.8,"CHÄ°CKEN SEASONING MÄ°X":19.2,"SPÄ°CE MÄ°X":19.2,"BAHARAT KARIÅžIMI":26.88,
    "FESLEÄžEN":534.9,"SUSAM":2721.9,"ZENCEFÄ°L":196.1,"KÄ°ÅžNÄ°Åž":55.68,"DEREOTU":26.06,
    "SOÄžAN":20,"BAMYA KURUSU":5,"YER FISTIÄžI":60.1,"SHAWARMA Ã‡EÅžNÄ°SÄ°":13.5,
    "MASALA Ã‡EÅžNÄ°SÄ°":12,"DENÄ°Z ÃœRÃœNLERÄ° Ã‡EÅžNÄ°SÄ°":13.5,"YEMEKLÄ°K TUZ":30,
    "TAVUK Ã‡EÅžNÄ°SÄ°":10.5,"BARBEKÃœ Ã‡EÅžNÄ°SÄ°":15,"ET Ã‡EÅžNÄ°SÄ°":15,"MISIR UNU":1850.3,
    "HÄ°MALAYA TUZU":1033.2,"KAJUN Ã‡EÅžNÄ°SÄ°":12,"MÄ°X 7 TÃœRLÃœ":215.2,"DENÄ°Z TUZU":390.72,
    "MUSKAT":98.4,"SALATA Ã‡EÅžNÄ°":8.1,"PATATES Ã‡EÅžNÄ°":18,"MAKARNA Ã‡EÅžNÄ°":8.1,
    "KABARTMA TOZU":10,"KAYA TUZU":288,"BALIK MÄ°X":43.2,"PÄ°RÄ°NÃ‡ UNU":100,
    "SOS BAHARATI":50,"BUÄžDAY NÄ°ÅžASTA":100,"AKBÄ°BER":20
  }
};

// --- MÄ°KROFON ve SESLÄ° YANIT ---
const mic=document.getElementById("mic");
const transcript=document.getElementById("transcript");
const responseBox=document.getElementById("response");
let recognition;
if("webkitSpeechRecognition" in window){
 recognition=new webkitSpeechRecognition();
 recognition.lang="tr-TR";recognition.continuous=false;recognition.interimResults=false;
 mic.onclick=()=>recognition.start();
 recognition.onresult=(event)=>{
   const text=event.results[0][0].transcript.toLowerCase();
   transcript.innerHTML="ðŸ—£ï¸ "+text;
   yanitla(text);
 };
}

// --- SORU-CEVAP ---
function yanitla(soru){
  let cevap="";
  // selamlaÅŸma
  if(soru.includes("merhaba")||soru.includes("selam")) cevap="Merhaba! NasÄ±lsÄ±n?";
  else if(soru.includes("iyiyim")) cevap="Harika! BugÃ¼n senin iÃ§in ne yapabilirim?";
  else if(soru.includes("teÅŸekkÃ¼r")) cevap="Rica ederim!";
  // genel veriler
  else if(soru.includes("kiÅŸi")) cevap=`Toplam ${veri.genel.kisi} kiÅŸi Ã§alÄ±ÅŸtÄ±.`;
  else if(soru.includes("sÃ¼re")) cevap=`Toplam Ã§alÄ±ÅŸma sÃ¼resi ${veri.genel.sure} saattir.`;
  else if(soru.includes("Ã¼retim")) cevap=`Toplam Ã¼retim ${veri.genel.uretim.toLocaleString()} adettir.`;
  else if(soru.includes("fire")) cevap=`Hammadde fire %${veri.genel.fire.hammadde}, OPP fire %${veri.genel.fire.opp}.`;
  // firma bazlÄ±
  else if(soru.includes("mesa")) cevap=`Mesa firmasÄ± ${veri.firmalar["MESA"].uretim} adet Ã¼retim yaptÄ±, ${veri.firmalar["MESA"].hammadde} kg hammadde kullandÄ±.`;
  else if(soru.includes("sofra")) cevap=`Sofra firmasÄ± ${veri.firmalar["SOFRA"].uretim} adet Ã¼retim yaptÄ±, ${veri.firmalar["SOFRA"].hammadde} kg hammadde kullandÄ±.`;
  else if(soru.includes("evergreen")) cevap=`Evergreen ${veri.firmalar["EVERGREEN"].uretim} adet Ã¼retim yaptÄ±, ${veri.firmalar["EVERGREEN"].hammadde} kg hammadde kullandÄ±.`;
  // hammadde sorgusu
  else{
    const key=Object.keys(veri.hammaddeler).find(k=>soru.includes(k.toLowerCase()));
    if(key) cevap=`${key} bu ay toplam ${veri.hammaddeler[key]} kilogram kullanÄ±ldÄ±.`;
  }
  // Ã¶zel sorgular
  if(soru.includes("en Ã§ok")){
    const max=Object.entries(veri.hammaddeler).reduce((a,b)=>a[1]>b[1]?a:b);
    cevap=`En Ã§ok kullanÄ±lan hammadde ${max[0]} olup ${max[1]} kg kullanÄ±lmÄ±ÅŸtÄ±r.`;
  }
  if(soru.includes("en az")){
    const min=Object.entries(veri.hammaddeler).reduce((a,b)=>a[1]<b[1]?a:b);
    cevap=`En az kullanÄ±lan hammadde ${min[0]} olup sadece ${min[1]} kg kullanÄ±lmÄ±ÅŸtÄ±r.`;
  }
  if(soru.includes("kaÃ§ Ã§eÅŸit")||soru.includes("kaÃ§ tane hammadde")))
    cevap=`Toplam ${Object.keys(veri.hammaddeler).length} farklÄ± hammadde kullanÄ±lmÄ±ÅŸtÄ±r.`;

  if(!cevap) cevap="Bunu anlayamadÄ±m, Ã¶rneÄŸin â€˜Pul biber ne kadar kullanÄ±ldÄ±?â€™ diyebilirsin.";

  responseBox.innerHTML="ðŸ¤– "+cevap;
  sesliCevap(cevap);
}

// --- SESLÄ° CEVAP (ERKEK SES) ---
function sesliCevap(metin){
 const synth=window.speechSynthesis;
 const utter=new SpeechSynthesisUtterance(metin);
 utter.lang="tr-TR"; utter.pitch=0.9; utter.rate=1.0;
 const male=synth.getVoices().find(v=>v.lang.startsWith("tr")&&v.name.toLowerCase().includes("male"))||synth.getVoices()[0];
 utter.voice=male; synth.speak(utter);
}
</script>
</body>
</html>
