
<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Sanita â€” GÃ¼ncel Veri ile AI Asistan</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap');
  :root{--bg1:#00121a;--bg2:#021428;--neon:#00f5d4;--neon2:#00b4d8;--muted:rgba(255,255,255,0.75)}
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:Poppins,system-ui,Segoe UI,Arial;background:radial-gradient(800px 400px at 10% 10%, rgba(0,20,30,0.6), transparent), linear-gradient(180deg,var(--bg1),var(--bg2));color:white;-webkit-font-smoothing:antialiased}
  .app{max-width:460px;margin:0 auto;padding:14px;min-height:100vh;display:flex;flex-direction:column;gap:12px;position:relative;z-index:2}
  .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);border-radius:14px;padding:12px;box-shadow:0 10px 40px rgba(0,0,0,0.35);}
  .transcript{display:flex;align-items:center;gap:10px;padding:10px;border-radius:10px;background:rgba(255,255,255,0.02);overflow:hidden}
  .pulse{width:12px;height:12px;border-radius:4px;background:linear-gradient(180deg,var(--neon),var(--neon2));box-shadow:0 10px 28px rgba(0,200,170,0.09);flex:0 0 12px}
  .flow{white-space:nowrap;display:block;overflow:hidden;flex:1}
  .flow .txt{display:inline-block;padding-left:0;animation:none}
  .bubbles{display:flex;flex-direction:column;gap:10px;max-height:56vh;overflow:auto;padding:6px;margin-top:8px}
  .bubble{max-width:84%;padding:12px 14px;border-radius:14px;display:inline-block;position:relative;word-break:break-word;box-shadow:0 6px 30px rgba(1,10,20,0.4);animation:pop .28s ease both}
  .bubble.user{background:linear-gradient(90deg,rgba(255,255,255,0.03),rgba(255,255,255,0.01));align-self:flex-end;border-bottom-right-radius:6px}
  .bubble.ai{background:linear-gradient(90deg, rgba(0,245,212,0.08), rgba(0,180,216,0.03));align-self:flex-start;border-bottom-left-radius:6px;color:#012}
  .emoji{margin-right:8px;font-size:18px;display:inline-block;vertical-align:middle}
  .mic-row{display:flex;align-items:center;gap:12px;justify-content:center;margin-top:6px}
  .mic{width:92px;height:92px;border-radius:999px;background:linear-gradient(145deg,var(--neon),var(--neon2));display:grid;place-items:center;font-size:36px;cursor:pointer;border:2px solid rgba(255,255,255,0.06);box-shadow:0 14px 48px rgba(0,180,216,0.12)}
  .btn{padding:8px 12px;border-radius:10px;background:linear-gradient(90deg,rgba(255,255,255,0.03),transparent);border:1px solid rgba(255,255,255,0.04);color:var(--muted);font-weight:700}
  footer{display:flex;align-items:center;justify-content:center;padding:10px;margin-top:6px}
  .copyright{padding:6px 12px;border-radius:10px;background:linear-gradient(90deg, rgba(255,255,255,0.02), transparent);box-shadow:0 6px 24px rgba(0,0,0,0.3);font-weight:700;color:var(--neon);font-size:13px}
</style>
</head>
<body>
<div class="app" role="application" aria-label="Sanita Mobil AI">
  <header style="display:flex;align-items:center;justify-content:space-between">
    <div style="display:flex;align-items:center;gap:12px">
      <div style="width:44px;height:44px;border-radius:10px;background:linear-gradient(135deg,var(--neon2),var(--neon));display:grid;place-items:center;font-weight:700;color:#012">ST</div>
      <div><div style="font-size:1.05rem;color:var(--neon);font-weight:700">Sanita â€” Yapay Zeka Bilgi AsistanÄ±</div><div style="font-size:0.85rem;color:var(--muted)">DilediÄŸini sorabilirsin.</div></div>
    </div>
    <div style="display:flex;gap:8px;align-items:center"><select id="voiceSelect" class="btn"><option value="female">ğŸ‘© KadÄ±n (Ã¶nerilen)</option><option value="male">ğŸ‘¨ Erkek</option></select><button id="download" class="btn">â¬‡ï¸ Ä°ndir</button></div>
  </header>

  <main class="card" role="main">
    <div class="transcript" aria-live="polite">
      <div class="pulse" aria-hidden></div>
      <div class="flow"><span class="txt" id="flowText">Merhaba ben Sanita Yapay Zeka Bilgi AsistanÄ±yÄ±m. DilediÄŸini sorabilirsin. Sesli komut iÃ§in mikrofon dÃ¼ÄŸmesine dokunabilir veya Ã¶rnek sorulardan birini seÃ§ebilirsin.</span></div>
    </div>

    <div class="bubbles" id="bubbles" aria-live="polite"></div>

    <div class="mic-row"><div id="mic" class="mic" title="Mikrofonu baÅŸlat">ğŸ¤</div></div>

    <div style="display:flex;gap:8px;justify-content:center;margin-top:8px"><button id="clear" class="btn">ğŸ§¹ Temizle</button></div>
  </main>

  <footer><div class="copyright">Â© 2025 Yapay Zeka GeliÅŸtiricisi: Bilal TektaÅŸ ğŸ¤–</div></footer>
</div>

<script>
// --- Embedded data: updated firm production and hammadde totals ---
const HAMMADDELER = {
"Ã‡AM FISTIÄI":160.00,"YENÄ°BAHAR":920.05,"PULBÄ°BER":20107.24,"TÃœM BÄ°BER":299.00,"DEFNE YAPRAÄI":204.46,
"KEKÄ°K":2552.74,"Ä°SOT":4130.77,"ANASON":559.52,"HÄ°NDÄ°STAN CEVÄ°ZÄ°":4154.01,"IHLAMUR":102.00,"MAVÄ° HAÅHAÅ":260.00,
"Ã‡EÅNÄ° MILD SEASONING":120.00,"VANÄ°LÄ°N ÅEKERLÄ°":310.00,"SUMAK":1666.49,"BÄ°BERÄ°YE":1436.54,"MÄ°X MARINATION":120.00,
"TUZOT":120.00,"TARÃ‡IN":2763.43,"KÄ°MYON":4475.46,"KÃ–RÄ°":1670.06,"LÄ°MON TUZU":9441.80,"KARABÄ°BER":3020.10,
"TOZ BÄ°BER":14818.43,"NÄ°ÅASTA BUÄDAY":100.00,"MAHLEP":38.80,"KARBONAT":342.00,"Ã‡Ã–REKOTU":30.00,"GALETA UNU":8770.10,
"KUÅ ÃœZÃœMÃœ":1620.00,"BEYAZ HAÅHAÅ":10.00,"SARIMSAK":971.80,"NÄ°ÅASTA MISIR":500.00,"ZERDEÃ‡AL":743.00,"PÄ°ZZA SPÄ°CE MÄ°X":25.20,
"KEBAP SPICE MÄ°X":19.20,"NANE":3869.95,"MAYDANOZ":496.80,"CHÄ°CKEN SEASONING MÄ°X":19.20,"SPÄ°CE MIX":19.20,"BAHARAT KARIÅIMI":26.88,
"FESLEÄEN":534.90,"SUSAM":2721.90,"ZENCEFÄ°L":196.10,"KÄ°ÅNÄ°Å":55.68,"DEREOTU":26.06,"SOÄAN":20.00,"BAMYA KURUSU":5.00,
"YER FISTIÄI":60.10,"SHAWARMA Ã‡EÅNÄ°SÄ°":13.50,"MASALA Ã‡EÅNÄ°SÄ°":12.00,"DENÄ°Z ÃœRÃœNLERÄ° Ã‡EÅNÄ°SÄ°":13.50,"YEMEKLÄ°K TUZ":30.00,
"TAVUK Ã‡EÅNÄ°SÄ°":10.50,"BARBEKÃœ Ã‡EÅNÄ°SÄ°":15.00,"ET Ã‡EÅNÄ°SÄ°":15.00,"MISIR UNU":1850.30,"HÄ°MALAYA TUZU":1033.20,"KAJUN Ã‡EÅNÄ°SÄ°":12.00,
"MÄ°X 7 TÃœRLÃœ":215.20,"DENÄ°Z TUZU":390.72,"MUSKAT":98.40,"SALATA Ã‡EÅNÄ°":8.10,"PATATES Ã‡EÅNÄ°":18.00,"MAKARNA Ã‡EÅNÄ°":8.10,
"KABARTMA TOZU":10.00,"KAYA TUZU":288.00,"BALIK MÄ°X":43.20,"PÄ°RÄ°NÃ‡ UNU":100.00,"SOS BAHARATI":50.00,"BUÄDAY NÄ°ÅASTA":100.00,
"AKBÄ°BER":20.00
};

const DATA = {
  aylik:{kisi:418.00, calisma_saat:951.75, uretim_adet:211991.00, toplam_hammadde:99126.68, hammadde_fire:5.48, omk_fire:28.00, opp_fire:15.80},
  firmalar:{
"SOFRA":{uret:31477,hammadde:29055.165},"KERVAN":{uret:764,hammadde:764.003},"RECEP CAN":{uret:1952,hammadde:4760.07},
"EVERGREEN":{uret:48122,hammadde:9921.439},"BEDÄ°R TEDARÄ°K":{uret:1964,hammadde:1702.3},"Ã–NEN GIDA":{uret:100,hammadde:100},
"Ã‡ELÄ°K NATUREL":{uret:100,hammadde:100},"ÅEKERCÄ°":{uret:10484,hammadde:11828.135},"GENÄ°M GIDA":{uret:5173,hammadde:4760.51},
"AKAR FOOD":{uret:11454,hammadde:1170.48},"MAUN GIDA":{uret:550,hammadde:550},"VENÃœS":{uret:3660,hammadde:2579},
"ANADOLU ÃœNÄ°VERSÄ°TESÄ°":{uret:340,hammadde:310},"EKOL FOOD":{uret:864,hammadde:723},"SANITA EVERGREEN":{uret:672,hammadde:336},
"MESA":{uret:70990,hammadde:9804.155},"CASH&CARRY":{uret:13522,hammadde:15307.8},"BORTAR":{uret:797,hammadde:703.5},
"VKS":{uret:1794,hammadde:1002},"HABÄ°P ALBAYRAK":{uret:1086,hammadde:1008.15},"FATSAT":{uret:320,hammadde:320},
"NIOLES":{uret:750,hammadde:340.65},"SALEH":{uret:4224,hammadde:1024.32},"KIRÃ‡Ä°Ã‡EÄÄ°":{uret:50,hammadde:50},
"MAYA CATERÄ°NG":{uret:42,hammadde:36},"T DÃ–NER":{uret:500,hammadde:50},"FRESH FOOD":{uret:50,hammadde:50},
"EGES YEMEK":{uret:190,hammadde:190},"_GENEL_TOPLAM_FIRMA_HAMMADDE":98546.68
  }
};

function fmt(n){ return (typeof n==='number')? n.toLocaleString('tr-TR') : n; }
function appendBubble(txt, who='ai', emoji='ğŸ¤–'){ const bubbles=document.getElementById('bubbles'); const el=document.createElement('div'); el.className='bubble '+(who==='user'?'user':'ai'); el.innerHTML=`<span class="emoji">${emoji}</span><span class="txt">${txt}</span>`; bubbles.appendChild(el); bubbles.scrollTop=bubbles.scrollHeight; return el; }
function speak(text){ try{ const u=new SpeechSynthesisUtterance(text); u.lang='tr-TR'; u.rate=1; u.pitch=1; const pref=document.getElementById('voiceSelect').value; const voices=speechSynthesis.getVoices(); let candidate=voices.find(v=>/tr-?tr|turkish/i.test(v.lang))||voices.find(v=>/female|kadÄ±n/i.test(v.name))||voices[0]||null; if(pref==='male') candidate=voices.find(v=>/male|erkek/i.test(v.name))||candidate; if(pref==='female') candidate=voices.find(v=>/female|kadÄ±n/i.test(v.name))||candidate; if(candidate) u.voice=candidate; speechSynthesis.cancel(); speechSynthesis.speak(u);}catch(e){console.warn(e)} }
function maxHammadde(){ const entries=Object.entries(HAMMADDELER); let max=entries[0]; for(const e of entries){ if(e[1]>max[1]) max=e; } return max; }
function enYuksek(key){ return Object.entries(DATA.firmalar).filter(([k])=>!k.startsWith('_')).map(([k,v])=>({firma:k,val:v[key]})).sort((a,b)=>b.val-a.val); }

function answerFor(text){
  const t=text.toLowerCase();
  if(/en Ã§ok hangi hammadde|en cok hangi hammadde|en fazla hammadde/i.test(t)){ const m=maxHammadde(); return `${m[0]} en Ã§ok kullanÄ±lan hammadde: ${fmt(m[1])} kg.`; }
  for(const name of Object.keys(HAMMADDELER)){ const key=name.toLowerCase(); if(t.includes(key)){ return `${name} toplam kullanÄ±m: ${fmt(HAMMADDELER[name])} kg.`; } }
  if(/toplam Ã¼retim|Ã¼retim miktarÄ±|genel toplam Ã¼retim/i.test(t)) return `Toplam Ã¼retim ${fmt(DATA.aylik.uretim_adet)} adet.`;
  if(/toplam (kullanÄ±lan )?hammadde|toplam hammadde/i.test(t)) return `Toplam kullanÄ±lan hammadde ${fmt(DATA.aylik.toplam_hammadde)} kg.`;
  if(/kaÃ§ kiÅŸi|kiÅŸi sayÄ±sÄ±|personel|kaÃ§ Ã§alÄ±ÅŸan/i.test(t)) return `Toplam ${fmt(DATA.aylik.kisi)} kiÅŸi Ã§alÄ±ÅŸtÄ±.`;
  if(/Ã§alÄ±ÅŸma sÃ¼resi|Ã§alÄ±ÅŸma saati|toplam saat/i.test(t)) return `Toplam Ã§alÄ±ÅŸma sÃ¼resi ${fmt(DATA.aylik.calisma_saat)} saattir.`;
  if(/hammadde fire|omk|opp|toplam fire|fire miktarÄ±/i.test(t)) return `Hammadde fire ${fmt(DATA.aylik.hammadde_fire)} kg, OMK fire ${fmt(DATA.aylik.omk_fire)} kg, OPP fire ${fmt(DATA.aylik.opp_fire)} kg. Toplam fire ${(DATA.aylik.hammadde_fire+DATA.aylik.omk_fire+DATA.aylik.opp_fire).toFixed(2)} kg.`;
  if(/kiÅŸi baÅŸÄ±|kiÅŸi baÅŸÄ±na/i.test(t)) return `KiÅŸi baÅŸÄ±na dÃ¼ÅŸen Ã¼retim ${(DATA.aylik.uretim_adet/DATA.aylik.kisi).toFixed(2)} adet.`;
  if(/saatlik Ã¼retim|1 saatte|saatte ortalama/i.test(t)) return `Ortalama saatlik Ã¼retim ${(DATA.aylik.uretim_adet/DATA.aylik.calisma_saat).toFixed(2)} adettir.`;
  for(const fname of Object.keys(DATA.firmalar)){ if(fname.startsWith('_')) continue; const key=fname.toLowerCase(); if(t.includes(key)){ const info=DATA.firmalar[fname]; if(/Ã¼retim|kaÃ§ adet|Ã¼retim miktarÄ±/i.test(t)) return `${fname} firmasÄ±nÄ±n Ã¼retim miktarÄ± ${fmt(info.uret)} adettir.`; if(/hammadde|kaÃ§ kg|kullandÄ±/i.test(t)) return `${fname} firmasÄ±nÄ±n kullandÄ±ÄŸÄ± toplam hammadde ${fmt(info.hammadde)} kg.`; if(/ortalama|adet baÅŸÄ±|1 adet/i.test(t)) return `${fname} iÃ§in ortalama hammadde/adet ${(info.hammadde/(info.uret||1)).toFixed(4)} kg.`; } }
  if(/en fazla Ã¼retim|en Ã§ok Ã¼retim|en fazla Ã¼retim yapan/i.test(t)){ const top=enYuksek('uret')[0]; return `En fazla Ã¼retim yapan firma ${top.firma} â€” ${fmt(top.val)} adet.`; }
  if(/en az Ã¼retim|en dÃ¼ÅŸÃ¼k Ã¼retim/i.test(t)){ const arr=enYuksek('uret'); const bot=arr[arr.length-1]; return `En az Ã¼retim yapan firma ${bot.firma} â€” ${fmt(bot.val)} adet.`; }
  if(/en Ã§ok hammadde|en fazla hammadde/i.test(t)){ const top=enYuksek('hammadde')[0]; return `En Ã§ok hammadde kullanan firma ${top.firma} â€” ${fmt(top.val)} kg.`; }
  if(/en verimli|verimlilik/i.test(t)){ const arr=Object.entries(DATA.firmalar).filter(([k])=>!k.startsWith('_')).map(([k,v])=>({firma:k,ratio:v.uret/(v.hammadde||1)})).sort((a,b)=>b.ratio-a.ratio); return `En verimli ilk 3 firma: ${arr.slice(0,3).map(x=>x.firma+' ('+x.ratio.toFixed(3)+')').join(', ')}.`; }
  if(/yÃ¼zde pay|yÃ¼zde paylarÄ±|yÃ¼zde pay/i.test(t)){ const totalU=DATA.aylik.uretim_adet; const totalH=DATA.aylik.toplam_hammadde; const lines=Object.entries(DATA.firmalar).filter(([k])=>!k.startsWith('_')).map(([k,v])=>`${k}: Ã¼retim %${((v.uret/totalU)*100).toFixed(2)}, hammadde %${((v.hammadde/totalH)*100).toFixed(2)}`); return `FirmalarÄ±n Ã¼retim ve hammadde yÃ¼zde paylarÄ±:\\n`+lines.join('\\n'); }
  return null;
}

document.getElementById('mic')?.addEventListener('click', ()=>{ try{ const Rec=window.SpeechRecognition||window.webkitSpeechRecognition; if(!Rec) return; const rec=new Rec(); rec.lang='tr-TR'; rec.interimResults=false; rec.maxAlternatives=1; rec.start(); document.getElementById('flowText').textContent='Dinleniyor... KonuÅŸun.'; rec.onresult=(e)=>{ const text=e.results[0][0].transcript; document.getElementById('flowText').textContent=text; appendBubble(text,'user','ğŸ—£ï¸'); setTimeout(()=>{ const ans=answerFor(text)||'ÃœzgÃ¼nÃ¼m, bu sorunun cevabÄ± veri setinde aÃ§Ä±kÃ§a bulunmuyor.'; const el=appendBubble(ans,'ai','ğŸ¤–'); const meta=document.createElement('div'); meta.className='meta'; meta.textContent='Cevap: veriye dayalÄ± sonuÃ§'; el.appendChild(meta); speak(ans); },350); }; rec.onerror=()=>{ document.getElementById('flowText').textContent='Mikrofon hatasÄ±. LÃ¼tfen tekrar deneyin.'; } }catch(e){console.warn(e)} });

document.getElementById('clear')?.addEventListener('click', ()=>{ document.getElementById('bubbles').innerHTML=''; document.getElementById('flowText').textContent=''; });

document.getElementById('download')?.addEventListener('click', ()=>{ const blob=new Blob([document.documentElement.outerHTML], {type:'text/html'}); const url=URL.createObjectURL(blob); const a=document.createElement('a'); a.href=url; a.download='sanita-ai-updated-data.html'; document.body.appendChild(a); a.click(); a.remove(); });

setTimeout(()=>{ const greet='Merhaba ben Sanita Yapay Zeka Bilgi AsistanÄ±yÄ±m. DilediÄŸini sorabilirsin.'; appendBubble(greet,'ai','ğŸ¤–'); speak('Merhaba ben Sanita Yapay Zeka Bilgi AsistanÄ±yÄ±m. DilediÄŸini sorabilirsin. Sesli komut iÃ§in mikrofon dÃ¼ÄŸmesine dokunabilirsiniz.'); },700);
</script>
</body>
</html>
